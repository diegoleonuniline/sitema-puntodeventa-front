<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="theme-color" content="#2D3DBF">
    <title>CAFI - Configuración</title>
    <link rel="stylesheet" href="empresas.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <div class="app-layout">
        <!-- SIDEBAR -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <svg viewBox="0 0 500 500" width="36" height="36">
                    <g transform="translate(0,500) scale(0.1,-0.1)">
                        <path fill="#fff" d="M905 3775 c-5 -2 -22 -6 -37 -9 -62 -14 -127 -102 -128 -174 0 -43 24 -100 58 -135 39 -41 107 -57 246 -57 l121 0 136 -137 137 -138 59 -145 c33 -80 89 -219 124 -309 l64 -165 7 105 c9 150 39 265 103 394 74 150 174 267 305 357 24 16 16 17 -180 17 l-205 1 -175 176 c-96 96 -193 185 -215 197 -37 20 -56 22 -225 24 -102 1 -189 1 -195 -2z"/>
                        <path fill="#a78bfa" d="M3270 3352 c143 -112 231 -234 285 -399 14 -43 28 -105 32 -138 9 -98 16 -96 -293 -93 l-259 3 -30 58 c-43 83 -88 133 -148 165 -48 25 -61 27 -172 27 -112 0 -124 -2 -178 -29 -60 -30 -126 -95 -157 -156 -39 -77 -52 -147 -48 -264 3 -104 6 -116 40 -188 78 -163 207 -239 382 -225 135 12 252 97 286 210 23 80 11 77 301 77 l258 0 18 -23 17 -24 40 101 c21 56 99 254 174 441 80 202 135 355 136 377 1 45 -32 84 -83 98 -20 6 -168 10 -336 10 l-300 0 35 -28z"/>
                    </g>
                </svg>
                <span>CAFI</span>
            </div>
            
            <nav class="sidebar-nav">
                <a href="../pos/index.html" class="nav-item">
                    <i class="fas fa-cash-register"></i>
                    <span>Punto de Venta</span>
                </a>
                <a href="#" class="nav-item active">
                    <i class="fas fa-building"></i>
                    <span>Configuración</span>
                </a>
                <div class="nav-divider"></div>
                <a href="#" class="nav-item" data-section="empresa">
                    <i class="fas fa-store"></i>
                    <span>Mi Empresa</span>
                </a>
                <a href="#" class="nav-item" data-section="sucursales">
                    <i class="fas fa-map-marker-alt"></i>
                    <span>Sucursales</span>
                </a>
                <a href="#" class="nav-item" data-section="almacenes">
                    <i class="fas fa-warehouse"></i>
                    <span>Almacenes</span>
                </a>
                <a href="#" class="nav-item" data-section="usuarios">
                    <i class="fas fa-users"></i>
                    <span>Usuarios</span>
                </a>
                <div class="nav-divider"></div>
                <a href="#" class="nav-item" data-section="impuestos">
                    <i class="fas fa-percent"></i>
                    <span>Impuestos</span>
                </a>
                <a href="#" class="nav-item" data-section="metodos-pago">
                    <i class="fas fa-credit-card"></i>
                    <span>Métodos de Pago</span>
                </a>
                <a href="#" class="nav-item" data-section="unidades">
                    <i class="fas fa-balance-scale"></i>
                    <span>Unidades</span>
                </a>
                <a href="#" class="nav-item" data-section="categorias">
                    <i class="fas fa-tags"></i>
                    <span>Categorías</span>
                </a>
            </nav>
            
            <div class="sidebar-footer">
                <div class="user-mini">
                    <div class="user-avatar" id="userAvatar">US</div>
                    <div class="user-info">
                        <span id="userName">Usuario</span>
                        <small id="userRol">Rol</small>
                    </div>
                </div>
                <button class="btn-logout" onclick="API.logout()" title="Cerrar sesión">
                    <i class="fas fa-sign-out-alt"></i>
                </button>
            </div>
        </aside>

        <!-- MAIN CONTENT -->
        <main class="main-content">
            <!-- HEADER -->
            <header class="main-header">
                <div class="header-title">
                    <h1 id="pageTitle"><i class="fas fa-building"></i> Configuración</h1>
                    <p id="pageSubtitle">Administra tu empresa y configuración general</p>
                </div>
                <div class="header-actions">
                    <button class="btn btn-primary" id="btnNuevo" onclick="abrirModalNuevo()">
                        <i class="fas fa-plus"></i>
                        <span>Nuevo</span>
                    </button>
                </div>
            </header>

            <!-- SECTIONS -->
            
            <!-- EMPRESA -->
            <section class="content-section active" id="seccionEmpresa">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-store"></i> Datos de la Empresa</h3>
                    </div>
                    <div class="card-body">
                        <form id="formEmpresa" class="form-grid">
                            <div class="form-group col-span-2">
                                <label>Nombre de la Empresa *</label>
                                <input type="text" id="emp_nombre" required>
                            </div>
                            <div class="form-group">
                                <label>RFC</label>
                                <input type="text" id="emp_rfc" maxlength="13">
                            </div>
                            <div class="form-group">
                                <label>Teléfono</label>
                                <input type="tel" id="emp_telefono">
                            </div>
                            <div class="form-group col-span-2">
                                <label>Dirección</label>
                                <input type="text" id="emp_direccion">
                            </div>
                            <div class="form-group">
                                <label>Email</label>
                                <input type="email" id="emp_email">
                            </div>
                            <div class="form-group">
                                <label>Sitio Web</label>
                                <input type="url" id="emp_web">
                            </div>
                            <div class="form-actions col-span-2">
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-save"></i> Guardar Cambios
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
                
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-cog"></i> Configuración del Sistema</h3>
                    </div>
                    <div class="card-body">
                        <form id="formConfig" class="form-grid">
                            <div class="form-group">
                                <label>Moneda</label>
                                <select id="cfg_moneda">
                                    <option value="MXN">MXN - Peso Mexicano</option>
                                    <option value="USD">USD - Dólar</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Zona Horaria</label>
                                <select id="cfg_zona">
                                    <option value="America/Mexico_City">Ciudad de México</option>
                                    <option value="America/Tijuana">Tijuana</option>
                                    <option value="America/Cancun">Cancún</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Decimales en Precios</label>
                                <select id="cfg_decimales">
                                    <option value="2">2 decimales</option>
                                    <option value="0">Sin decimales</option>
                                    <option value="4">4 decimales</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label>Precio Incluye Impuesto</label>
                                <select id="cfg_precio_impuesto">
                                    <option value="Y">Sí</option>
                                    <option value="N">No</option>
                                </select>
                            </div>
                            <div class="form-group switch-group">
                                <label>Manejar Inventario</label>
                                <label class="switch">
                                    <input type="checkbox" id="cfg_inventario" checked>
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-group switch-group">
                                <label>Permitir Venta sin Stock</label>
                                <label class="switch">
                                    <input type="checkbox" id="cfg_venta_sin_stock">
                                    <span class="slider"></span>
                                </label>
                            </div>
                            <div class="form-actions col-span-2">
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-save"></i> Guardar Configuración
                                </button>
                            </div>
                        </form>
                    </div>
                </div>
            </section>

            <!-- SUCURSALES -->
            <section class="content-section" id="seccionSucursales">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-map-marker-alt"></i> Sucursales</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalSucursal()">
                            <i class="fas fa-plus"></i> Nueva Sucursal
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Dirección</th>
                                        <th>Teléfono</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaSucursales">
                                    <tr><td colspan="5" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- ALMACENES -->
            <section class="content-section" id="seccionAlmacenes">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-warehouse"></i> Almacenes</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalAlmacen()">
                            <i class="fas fa-plus"></i> Nuevo Almacén
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Sucursal</th>
                                        <th>Punto de Venta</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaAlmacenes">
                                    <tr><td colspan="5" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- USUARIOS -->
            <section class="content-section" id="seccionUsuarios">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-users"></i> Usuarios</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalUsuario()">
                            <i class="fas fa-plus"></i> Nuevo Usuario
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Email</th>
                                        <th>Rol</th>
                                        <th>Sucursal</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaUsuarios">
                                    <tr><td colspan="6" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- IMPUESTOS -->
            <section class="content-section" id="seccionImpuestos">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-percent"></i> Impuestos</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalImpuesto()">
                            <i class="fas fa-plus"></i> Nuevo Impuesto
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Tasa %</th>
                                        <th>Tipo</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaImpuestos">
                                    <tr><td colspan="5" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- METODOS DE PAGO -->
            <section class="content-section" id="seccionMetodosPago">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-credit-card"></i> Métodos de Pago</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalMetodoPago()">
                            <i class="fas fa-plus"></i> Nuevo Método
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Tipo</th>
                                        <th>Requiere Referencia</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaMetodosPago">
                                    <tr><td colspan="5" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- UNIDADES -->
            <section class="content-section" id="seccionUnidades">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-balance-scale"></i> Unidades de Medida</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalUnidad()">
                            <i class="fas fa-plus"></i> Nueva Unidad
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Código</th>
                                        <th>Nombre</th>
                                        <th>Abreviatura</th>
                                        <th>Tipo</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaUnidades">
                                    <tr><td colspan="5" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>

            <!-- CATEGORÍAS -->
            <section class="content-section" id="seccionCategorias">
                <div class="card">
                    <div class="card-header">
                        <h3><i class="fas fa-tags"></i> Categorías de Productos</h3>
                        <button class="btn btn-primary btn-sm" onclick="abrirModalCategoria()">
                            <i class="fas fa-plus"></i> Nueva Categoría
                        </button>
                    </div>
                    <div class="card-body">
                        <div class="table-responsive">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Nombre</th>
                                        <th>Descripción</th>
                                        <th>Productos</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody id="tablaCategorias">
                                    <tr><td colspan="5" class="empty">Cargando...</td></tr>
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
            </section>
        </main>
    </div>

    <!-- MODALES -->
    
    <!-- Modal Sucursal -->
    <div class="modal-overlay" id="modalSucursal">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-map-marker-alt"></i> <span id="modalSucursalTitulo">Nueva Sucursal</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalSucursal')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formSucursal" onsubmit="guardarSucursal(event)">
                <div class="modal-body">
                    <input type="hidden" id="suc_id">
                    <div class="form-group">
                        <label>Nombre *</label>
                        <input type="text" id="suc_nombre" required>
                    </div>
                    <div class="form-group">
                        <label>Dirección</label>
                        <input type="text" id="suc_direccion">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Teléfono</label>
                            <input type="tel" id="suc_telefono">
                        </div>
                        <div class="form-group">
                            <label>Estado</label>
                            <select id="suc_activo">
                                <option value="Y">Activo</option>
                                <option value="N">Inactivo</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalSucursal')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Usuario -->
    <div class="modal-overlay" id="modalUsuario">
        <div class="modal">
            <div class="modal-header">
                <h3><i class="fas fa-user"></i> <span id="modalUsuarioTitulo">Nuevo Usuario</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalUsuario')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formUsuario" onsubmit="guardarUsuario(event)">
                <div class="modal-body">
                    <input type="hidden" id="usr_id">
                    <div class="form-group">
                        <label>Nombre Completo *</label>
                        <input type="text" id="usr_nombre" required>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Email *</label>
                            <input type="email" id="usr_email" required>
                        </div>
                        <div class="form-group">
                            <label>Contraseña *</label>
                            <input type="password" id="usr_password" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Rol *</label>
                            <select id="usr_rol" required>
                                <option value="Cajero">Cajero</option>
                                <option value="Vendedor">Vendedor</option>
                                <option value="Supervisor">Supervisor</option>
                                <option value="Gerente">Gerente</option>
                                <option value="Admin">Administrador</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Sucursal *</label>
                            <select id="usr_sucursal" required></select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="usr_activo">
                            <option value="Y">Activo</option>
                            <option value="N">Inactivo</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalUsuario')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Impuesto -->
    <div class="modal-overlay" id="modalImpuesto">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h3><i class="fas fa-percent"></i> <span id="modalImpuestoTitulo">Nuevo Impuesto</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalImpuesto')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formImpuesto" onsubmit="guardarImpuesto(event)">
                <div class="modal-body">
                    <input type="hidden" id="imp_id">
                    <div class="form-group">
                        <label>Nombre *</label>
                        <input type="text" id="imp_nombre" required placeholder="Ej: IVA 16%">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tasa % *</label>
                            <input type="number" id="imp_tasa" step="0.01" required placeholder="16">
                        </div>
                        <div class="form-group">
                            <label>Tipo</label>
                            <select id="imp_tipo">
                                <option value="PORCENTAJE">Porcentaje</option>
                                <option value="FIJO">Monto Fijo</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="imp_activo">
                            <option value="Y">Activo</option>
                            <option value="N">Inactivo</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalImpuesto')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Método de Pago -->
    <div class="modal-overlay" id="modalMetodoPago">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h3><i class="fas fa-credit-card"></i> <span id="modalMetodoPagoTitulo">Nuevo Método</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalMetodoPago')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formMetodoPago" onsubmit="guardarMetodoPago(event)">
                <div class="modal-body">
                    <input type="hidden" id="mp_id">
                    <div class="form-group">
                        <label>Nombre *</label>
                        <input type="text" id="mp_nombre" required placeholder="Ej: Efectivo">
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Tipo</label>
                            <select id="mp_tipo">
                                <option value="EFECTIVO">Efectivo</option>
                                <option value="TARJETA">Tarjeta</option>
                                <option value="TRANSFERENCIA">Transferencia</option>
                                <option value="CREDITO">Crédito</option>
                                <option value="OTRO">Otro</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Requiere Ref.</label>
                            <select id="mp_referencia">
                                <option value="N">No</option>
                                <option value="Y">Sí</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="mp_activo">
                            <option value="Y">Activo</option>
                            <option value="N">Inactivo</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalMetodoPago')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Unidad -->
    <div class="modal-overlay" id="modalUnidad">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h3><i class="fas fa-balance-scale"></i> <span id="modalUnidadTitulo">Nueva Unidad</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalUnidad')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formUnidad" onsubmit="guardarUnidad(event)">
                <div class="modal-body">
                    <input type="hidden" id="uni_id">
                    <div class="form-row">
                        <div class="form-group">
                            <label>Código *</label>
                            <input type="text" id="uni_codigo" required placeholder="PZ" maxlength="10">
                        </div>
                        <div class="form-group">
                            <label>Abreviatura</label>
                            <input type="text" id="uni_abrev" placeholder="pza" maxlength="10">
                        </div>
                    </div>
                    <div class="form-group">
                        <label>Nombre *</label>
                        <input type="text" id="uni_nombre" required placeholder="Pieza">
                    </div>
                    <div class="form-group">
                        <label>Tipo</label>
                        <select id="uni_tipo">
                            <option value="UNIDAD">Unidad</option>
                            <option value="PESO">Peso</option>
                            <option value="VOLUMEN">Volumen</option>
                            <option value="LONGITUD">Longitud</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalUnidad')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Categoría -->
    <div class="modal-overlay" id="modalCategoria">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h3><i class="fas fa-tag"></i> <span id="modalCategoriaTitulo">Nueva Categoría</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalCategoria')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formCategoria" onsubmit="guardarCategoria(event)">
                <div class="modal-body">
                    <input type="hidden" id="cat_id">
                    <div class="form-group">
                        <label>Nombre *</label>
                        <input type="text" id="cat_nombre" required placeholder="Ej: Bebidas">
                    </div>
                    <div class="form-group">
                        <label>Descripción</label>
                        <textarea id="cat_descripcion" rows="2" placeholder="Descripción opcional"></textarea>
                    </div>
                    <div class="form-group">
                        <label>Estado</label>
                        <select id="cat_activo">
                            <option value="Y">Activo</option>
                            <option value="N">Inactivo</option>
                        </select>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalCategoria')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Modal Almacén -->
    <div class="modal-overlay" id="modalAlmacen">
        <div class="modal modal-sm">
            <div class="modal-header">
                <h3><i class="fas fa-warehouse"></i> <span id="modalAlmacenTitulo">Nuevo Almacén</span></h3>
                <button class="btn-close" onclick="cerrarModal('modalAlmacen')"><i class="fas fa-times"></i></button>
            </div>
            <form id="formAlmacen" onsubmit="guardarAlmacen(event)">
                <div class="modal-body">
                    <input type="hidden" id="alm_id">
                    <div class="form-group">
                        <label>Nombre *</label>
                        <input type="text" id="alm_nombre" required placeholder="Ej: Almacén Principal">
                    </div>
                    <div class="form-group">
                        <label>Sucursal *</label>
                        <select id="alm_sucursal" required></select>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label>Punto de Venta</label>
                            <select id="alm_pv">
                                <option value="N">No</option>
                                <option value="Y">Sí</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label>Estado</label>
                            <select id="alm_activo">
                                <option value="Y">Activo</option>
                                <option value="N">Inactivo</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" onclick="cerrarModal('modalAlmacen')">Cancelar</button>
                    <button type="submit" class="btn btn-success"><i class="fas fa-save"></i> Guardar</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Toast -->
    <div class="toast" id="toast"></div>

    <script src="../../shared/js/api.js"></script>
    <script src="empresas.js"></script>
</body>
</html>
